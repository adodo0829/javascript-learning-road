# 移动端学习总结
1. 前段时间的移动端学习，旨在探索一条适合我们小组快速上手开发移动端app的方式，技术路线从react-native(2015年开源，facebook)转到weex(2016年开源，阿里巴巴)，二者都是采用的前端(H5+JS)技术开发原生移动端，由于上手快，支持热更新，这也成为当今移动端开发的趋势。比较rn和weex，weex在技术理念上更加先进且易于上手，因此后期以学习weex为主，并简单入门了安卓开发。目前已经能够使用weex开发出页面结构相对固定的移动端原生页面，生成独立的app，或者直接作为页面元素嵌入到原生安卓和ios的app中。
2. 但是将weex应用到实际生产，绕不开原生app开发技术，首先，需要解决app对网络图片下载的限制，上一版的官方文档的介绍十分简陋（2018年1月份官方文档已经更新，详细了很多），在同学的帮助下和参考官方demo得以解决。
3. 其次，需要解决登录态问题，尝试使用QQ的WTLogin登录组件，尝试建立原生app导入登录组件，目前，原生的登录态已经调试通过，但是，如何在weex中调取原生的登录态遇到困难，目前的解决方法：
  3.1 尝试修改安卓原生的网络请求，在每次的网络请求中带上登录态参数，后端校验
  3.2 同时尝试将weex中已经开发好的vue官方推荐使用的axios网络请求方式改为请求原生的stream请求方式
  3.3 尝试在weex中调用原生方法，例如网络原因或登录失败触发的拉取某些原生页面（需要学习写原生安卓程序）
  3.4 尝试在原生中获取weex中变量和方法，比如获取weex页面的加载情况，以及及时销毁weex页面，释放内存
  3.5 还要尝试接入微信登录态
4. 在学习过程中发现，由于rn和weex目前都还在0.X版本，没有正式的1.0版本，bug比较普遍，遇到问题报错，可能是weex的，也可能是原生的，网上的资料也非常少，一个人学习，常常感到束手无策。
5. 以上的问题仅为安卓侧，ios侧需要使用object-c/swift再实现一遍，根据经验丰富的移动端开发者介绍，weex在安卓和ios适配上目前存在不少暗坑，只能通过修改weex源码来实现折中的效果，这需要能够随时修改安卓和ios包源码的能力，在短期内难度会比较大
6. 关于调试，weex在调试工具这块发展很快，几个月内不断有新东西出现，最近官方推荐的方式是集成开发调试工具到原生app中，实现原生debug，这需要较强的移动端开发能力，在网络上零零散散看的移动端入门教程，由于没有系统性，没有移动端的调试经验，对于程序报错常常束手无策
7. 开发模式问题：weex的宗旨在提高代码的重用性，一次开发，三端复用，使用能够极大提高原生页面的开发效率，但是这应该建立在组内已有较完善的移动端开发能力，需要有经验丰富的移动端开发者铺平暗坑，搭建好项目框架，没有安卓开发经验的前端开发者可以在已有app基础上使用web技术快速开发出交互页面
8.总结：weex很nice，但是目前还没有发布正式版，存在的问题会比较多，现在从移动端零基础学起，会浪费大量的精力在各种无休止的调试上，这对于新技术的学习并不是一个非常好的模式。
