<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>

<script>
/*
* @Author: csxiaoyao
* @Date:   2017-08-24 14:34:31
 * @Last Modified by: csxiaoyao
 * @Last Modified time: 2018-04-15 14:25:56
*/

/**
 * CommonJS & AMD
 */

/**
 * 【 CommonJS 】
 * node.js
 * 问题：
 * require('math') 必须等math.js加载完成之后运行
 * 服务器端所有的模块都存放在本地硬盘，可以同步加载完成，等待时间就是硬盘的读取时间
 * 浏览器，等待时间取决于网速的快慢，可能要等很长时间，浏览器处于"假死"状态
 * 因此，浏览器端的模块，不能采用"同步加载"（synchronous），只能采用"异步加载"（asynchronous）
 */
// 在模块中对外输出变量(任意对象、函数、数组等)  module.exports = variable;  module.exports = function(){}; module.exports = { hello: fun1, greet: fun2 };
// 引入其他模块输出的对象  var foo = require('other_module');
// 变量隔离使用闭包 (function () { var a = XXX; })();

// 例1：假定加载一个数学模块math.js
var math = require('math');
math.add(2,3); // 5

// 例2：
// 模块定义文件 hello.js
function greet(name) {
	console.log('hello,' + name + '~');
}
module.exports = greet;
// 引用模块 main.js
var greet = require('./hello');
greet('csxiaoyao'); // hello,csxiaoyao~

/**
 * 【 AMD 】
 * AMD "Asynchronous Module Definition" 异步模块定义
 * 所有依赖某个模块的语句，都定义在回调函数中，等到加载完成后，回调函数才会运行
 * require([module], callback);
 * 主要有两个Javascript库实现了AMD规范：require.js和curl.js
 */
require(['math'], function (math) {
	math.add(2, 3);
});

/**
 * 【 AMD - require.js 】
 * 1.实现js文件的异步加载，避免网页失去响应
 * 2.管理模块之间的依赖性，便于代码的编写和维护
 */


</script>
</body>
</html>